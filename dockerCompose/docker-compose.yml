# Use Docker-Compose V3
version: '3'
services:
    nodeApp:
        container_name: my-node-app
        image: my_app #"techye/node_app:latest"
        # Prevent from closing immediately after open (Runs Bash process to prevent closing)
        tty: "true"
        # Expose Localhost:8000 => nodeApp:3500
        ports:
            - "8000:3500"
    elastic:
        container_name: my-elastic-db
        image: "elasticsearch"
        # Manage restriction inside the container
        environment:
            - cluster.name=docker-cluster
            - bootstrap.memory_lock=true
            - "ES_JAVA_OPTS=-Xms128m -Xmx128m"
    grafana:
        container_name: my-grafana
        image: "grafana/grafana"
        ports:
            - "8001:3000"
